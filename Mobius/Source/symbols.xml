<Symbols>
  <Function name="AutoRecord" sustainable='true' longHelp='Long press becomes Reset'
            mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="Backward" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="Bounce" tree='Utility'/>
  <Function name="Checkpoint" mayFocus='true' mayCancelMute='true' tree='Utility'/>
  <Function name="Clear" mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="Confirm" mayFocus='true' tree='Switch'/>
  <Function name="Divide" mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="Divide3" mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="Divide4" mayFocus='true' mayCancelMute='true' tree='Reocrding'/>
  <Function name="FocusLock" tree='Utility'/>
  <Function name="Forward" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="GlobalMute" global='true' tree='Track'/>
  <Function name="GlobalPause" global='true' tree='Movement'/>
  <Function name="GlobalReset" global='true' tree='Recording'/>
  <Function name="Halfspeed" mayFocus='true' mayCancelMute='true' tree='Speed'/>
  <!-- this was not sustainable at first, but it is in core, what does it mean? -->
  <Function name="Insert" mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="InstantMultiply" mayFocus='true' tree='Recording'/>
  <!--
      these are similar to replicated functions but have been in use
      for a long time, think about this
      -->
  <Function name="InstantMultiply3" mayFocus='true' tree='Recording'/>
  <Function name="InstantMultiply4" mayFocus='true' tree='Recording'/>

  <!-- Formerly LoopN, Loop1, Loop2, etc. -->
  <Function name="SelectLoop" mayFocus='true' mayCancelMute='true' tree='Track'
            argumentHelp="Loop Number: 1-8"/>

  <Function name="MidiStart" tree='Sync'/>
  <Function name="MidiStop" tree='Sync'/>
  <Function name="Move" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="Multiply" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="Mute" sustainable='true' mayFocus='true' tree='Track'/>
  <!-- core has this as a mayCancelMute, why? -->
  <Function name="MuteRealign" mayFocus='true' tree='Track'/>
  <Function name="MuteMidiStart" tree='MIDI'/>
  <Function name="NextLoop" mayFocus='true' mayCancelMute='true' tree='Track'/>
  <Function name="NextTrack" tree='Track'/>
  <Function name="Overdub" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="Pause" sustainable='true' mayFocus='true' tree='Track' mayQuantize='true'/>
  <Function name="PitchDown" mayFocus='true' mayCancelMute='true' tree='Pitch' hidden='true'/>
  <Function name="PitchNext" mayFocus='true' mayCancelMute='true' tree='Pitch' hidden='true'/>
  <Function name="PitchCancel" mayFocus='true' mayCancelMute='true' tree='Pitch' hidden='true'/>
  <Function name="PitchPrev" mayFocus='true' mayCancelMute='true' tree='Pitch' hidden='true'/>
  <Function name="PitchStep" mayFocus='true' mayCancelMute='true' tree='Pitch' hidden='true'/>
  <Function name="PitchUp" mayFocus='true' mayCancelMute='true' tree='Pitch' hidden='true'/>
  <Function name="Play" mayFocus='true' tree='Recording'/>
  <Function name="PrevLoop" mayFocus='true' mayCancelMute='true' tree='Track'/>
  <Function name="PrevTrack" tree='Track'/>
  <Function name="Realign" mayFocus='true' mayCancelMute='true' mayConfirm='true' tree='Track'/>
  <Function name="Record" sustainable='true' longPressable='true' longHelp='Long press becomes Reset' mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="Redo" mayFocus='true' mayCancelMute='true' mayConfirm='true' tree='Track'/>
  <Function name="Rehearse" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="Replace" sustainable='true' mayFocus='true' mayCancelMute='true' mayConfirm='true' tree='Recording'/>
  <!-- core has this as mayConfirm, why? -->
  <Function name="Reset" mayFocus='true' tree='Track'/>
  <Function name="Restart" mayFocus='true' mayCancelMute='true' mayConfirm='true' tree='Movement'/>
  <Function name="RestartOnce" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="Reverse" sustainable='true' mayFocus='true' mayCancelMute='true' mayConfirm='true' tree='Movement'/>
  <!-- core has this as mayFocus, don't think that's relevant -->
  <Function name="SaveCapture" tree='Utility'/>
  <Function name="SaveLoop" tree='Utility'/>
  <Function name="Shuffle" mayFocus='true' mayCancelMute='true' tree='Recording'/>
  <Function name="SlipForward" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="SlipBackward" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="Solo" mayFocus='true' tree='Track'/>
  <Function name="SpeedDown" mayFocus='true' mayCancelMute='true' tree='Speed'/>
  <Function name="SpeedNext" mayFocus='true' mayCancelMute='true' tree='Speed'/>
  <Function name="SpeedCancel" mayFocus='true' mayCancelMute='true' tree='Speed'/>
  <Function name="SpeedPrev" mayFocus='true' mayCancelMute='true' tree='Speed'/>
  <Function name="SpeedStep" mayFocus='true' mayCancelMute='true' tree='Speed'/>
  <Function name="SpeedUp" mayFocus='true' mayCancelMute='true' tree='Speed'/>
  <!-- why is this sustainable? -->
  <Function name="SpeedToggle" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Speed'/>
  <!-- core has this mayFocus -->
  <Function name="StartCapture" tree='Utility'/>
  <Function name="StartPoint" mayFocus='true' mayCancelMute='true' tree='Editing'/>
  <!-- core has this mayFocus -->
  <Function name="StopCapture" tree='Utility'/>
  <Function name="Stutter" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Editing'/>
  <Function name="Substitute" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Editing'/>

  <Function name="SUSInsert" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
/>
  <Function name="SUSMultiply" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSMute" sustainable='true' mayFocus='true' tree='Sustaining'/>
  <Function name="SUSMuteRestart" sustainable='true' mayFocus='true' tree='Sustaining'/>
  <Function name="SUSNextLoop" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSOverdub" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSPrevLoop" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSRecord" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSReplace" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSReverse" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSSpeedToggle" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSStutter" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSSubstitute" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSUnroundedInsert" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SUSUnroundedMultiply" sustainable='true' mayFocus='true' mayCancelMute='true' tree='Sustaining'/>
  <Function name="SyncStartPoint" mayFocus='true' mayCancelMute='true' tree='Sync'/>
  
  <!-- Formerly TrackN, Track1, etc. -->
  <Function name="SelectTrack"
            argumentHelp="Track Number: 1-16" tree='Track'/>
  
  <Function name="TrackCopy" tree='Track'/>
  <Function name="TrackCopyTiming" tree='Track'/>
  <Function name="TrackGroup" sustainable='true' mayFocus='true' tree='Track'/>
  <Function name="TrackReset" mayFocus='true' tree='Editing'/>
  <Function name="TrimEnd" mayFocus='true' mayCancelMute='true' tree='Editing'/>
  <Function name="TrimStart" mayFocus='true' mayCancelMute='true' tree='Editing'/>
  <Function name="Undo" mayFocus='true' mayCancelMute='true' mayConfirm='true' tree='Editing'/>
  <Function name="WindowBackward" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="WindowForward" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="WindowStartBackward" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="WindowStartForward" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="WindowEndBackward" mayFocus='true' mayCancelMute='true' tree='Movement'/>
  <Function name="WindowEndForward" mayFocus='true' mayCancelMute='true' tree='Movement'/>

  <Function name="UpCycle" mayFocus='true' level='core' tree='MIDI'/>
  <Function name="DownCycle" mayFocus='true' level='core' tree='MIDI'/>
  <Function name="SetCycles" level='core' tree='MIDI'/>
  <Function name="Start" level='core' tree='Movement' mayQuantize='true'/>
  <Function name="Stop" level='core' tree='Movement' mayQuantize='true'/>

  <!-- file oriented functions -->
  <Function name="LoadMidi" level='ui' tree='ui'/>
  
  <!-- various diagnostic functions for testing -->
  
  <!-- core has this as mayFocus -->
  <Function name="TraceStatus" tree='Utility' hidden='true'/>

  <!-- new one for MIDI structure dumping -->
  <Function name="Dump" level="core" tree='Utility'/>

  <!-- MIDI specific -->

  <Function name="MidiResize" midi='true' mayFocus='true' level='core' tree='MIDI'/>
  <Function name="MidiHalfspeed" midi='true' mayFocus='true' mayQuantize='true' level='core' tree='MIDI'/>
  <Function name="MidiDoublespeed" midi='true' mayFocus='true' mayQuantize='true' level='core' tree='MIDI'/>

  <Function name='TransportStart' level='kernel' tree='Transport'/>
  <Function name='TransportStop' level='kernel' tree='Transport'/>
  <Function name="SyncMasterTrack" level='kernel' tree='Transport'/>
  <Function name="SyncMasterMidi" level='kernel' tree='Transport'/>
  
  <!--
  Parameter type=int is assumed unless specified
  scope=global implies noBinding unless bindable is on

  Need to think more about internal vs. binding ranges
  binding usually expectes 1 based object numbers, but internally
  zero is used inconsntently.  Now that we're standardizing on ordinals
  for as much as we can, start using ordinals for ranges? So
  instead of 1-16 it is 0-15?  A more useful concept would just be range=128
  rather than low/high.
  -->
  
  <!-- =======================================================================
       GLOBAL
  ============================================================================ -->

  <ParameterScope name='global'>

    <!-- this is NOT a parameter, it's a session property that is used on
         startup and saved on shutdown, you can't bind to it or change it at runtime
    <Parameter name='startingSetup'
               type='structure' structureClass='Setup'
               codeName='StartingSetupName'
               options='noBinding'>
      This is used only in model context to define the starting Setup by name.
      It cannot be bound to a trigger.  We really don't need this to be a parameter
      at all since the value will be set as a side effect of the main menu, or when
      selecting among available presets in the configuration UI.  The fields for that
      are not generated from a UIParameter definition.
      </Parameter>
      -->

    <!--
        Revisit whether this should be bindable.
        This one behaves differently than most global parameters, it's more like a "session"
        property that just remembers what the last setup was on shutdown and restores
        that on startup.  I decided to take out startingSetup for that reason too.
        This is part of the evolving "session" concept.  
    -->
    <Parameter name='activeSetup' coreName='setup'
               type='structure' structureClass='Setup'
               options='noBinding,transient'>
      This is a runtime parameter that has no structure equivalent.  It may be referenced
      from a script to change the active setup with "set setup foo".  This change is
      will persist for the duration of the runtime.  On shutdown it will be saved
      in mobius.xml as "startingSetup".
    </Parameter>

    <Parameter name='bindings'
               type='structure' structureClass='BindingSet'
               >
      Selects an optional alternate binding set.
      This is what old Mobius called the "overlay bindings".
      New Mobius calls this an "alternate binding" which is different from an overlay.
      It exists in MobiusConfig but is not edited like a normal global parameter.
      Need a formal declaration so it can behave as a Structure for the binding panels.
      ?? do we really
    </Parameter>

    <Parameter name='fadeFrames' high='1024'>
      In practie this will probably have an enforced lower bound that
      won't be part of the definition, though maybe setting it to zero
      would be interesring for testing?
    </Parameter>
    
    <Parameter name='maxSyncDrift' high='10000'>
      The amount of drift to allow before we force a Realign
    </Parameter>

    <Parameter name='driftCheckPoint' values='loop,external'>
      Where we do sync drift correction
    </Parameter>

    <Parameter name='pluginPorts' low='1' high='8'>
      The number of ports (stereo channel pairs) we will advertise to the plugin host.
      Arguably belongs in a separate device configuration model.
    </Parameter>

    <Parameter name='longPress' low='250' high='10000'>
      The amount of time a trigger can be held before activating long-press behavior.
      Forget what the unit is here, milliseconds or tenths?
      Belongs in UIConfig with other Binding parameters.
    </Parameter>
    <Parameter name='longDisable' type='bool'>
      During debugging it is really annoying to have long-press behavior firing
      when we're single stepping so allow it to be turned off.
    </Parameter>
    
    <Parameter name='spreadRange' low='1' high='128'>
      The amount to spread the binding range over adjacent values.
      Belongs in UIConfig with the other BInding parameters.
    </Parameter>

    <Parameter name='traceLevel'
               coreName='traceDebugLevel'
               codeName='TraceDebugLevel'>
      Controls the granularity of trace logging to the debug output stream on Windows
      or the console on Mac.  Core also has tracePrintLevel, try to merge these.
      </Parameter>

    <Parameter name='autoFeedbackReduction' type='bool'>
      Forget what this does, I think feedback is automatically reduced when in
      some recording modes like multiply or overdub.
    </Parameter>

    <Parameter name='isolateOverdubs' type='bool'>
      Has to do with project saving, should move to UI
    </Parameter>

    <Parameter name='monitorAudio' type='bool'>
      Enables through monitoring, should move this up.  Not sure how
      this is implemented in the engine, maybe buried under Recorder.
    </Parameter>
    
    <Parameter name='saveLayers' type='bool'>
      Another project option, move to UI
    </Parameter>

    <Parameter name='quickSave' type='string'>
      The base name fo the quick save file.
      Move to UI
    </Parameter>

    <!-- StringList
         This was a list of Mode names that don't want altFeedback applied.
         There were only four possibilities: Multiply, Overdub, Stutter, Substitute
         <Parameter name='altFeedbackDisables' type='string' multi='true'>
         Diables secondary feedback in modes
         </Parameter>
      -->

    <Parameter name='groupFocusLock' type='bool'>
      Still relevant?  Move to UI
    </Parameter>

    <Parameter name='trackCount' coreName='tracks' codeName='Tracks'>
      The number of tracks to configure internally and display in the UI
      Cannot be changed at runtime
    </Parameter>

    <Parameter name='maxLoops'> 
      The maximum number of loops a track can have.
      Cannot be changed at runtime.
    </Parameter>
    
    <Parameter name='inputLatency'>
      The number of samples to use for input latency adjustments.  Overrides
      what is reported by the container for the selected audio device.
    </Parameter>
    
    <Parameter name='outputLatency'>
      The number of samples to use for output latency adjustments.  Overrides
      what is reported by the container for the selected audio device.
    </Parameter>

    <!-- Things that exist but are obscure
    -->
    <Parameter name='noiseFloor' type='int' options='noBinding'>
      Used this in early testing, not sure if useful.  It would control how
      sensitive AutoRecord is
    </Parameter>

    <Parameter name='midiRecordMode' values='average,smooth,pulsed' options='noBinding'/>

    <!-- Things that still exist in the model but probably want to move them somewhere else
         oscInputPort
         oscOutputPort
         oscOutputHost
         oscTrace
         oscEnable
    -->
    
  </ParameterScope>

  <!-- =======================================================================
       PRESET
  ============================================================================ -->

  <ParameterScope name='preset'>
     
    <Parameter name='subcycles' low='1' high='128' />

    <Parameter name='multiplyMode' values='normal,simple'/>

    <Parameter name='shuffleMode' values='reverse,shift,swap,random'/>

    <Parameter name='altFeedbackEnable' type='bool' />

    <Parameter name='emptyLoopAction'
               values='none,record,copy,copyTime'
               valueLabels='None,Record,Copy Sound,Copy Timing' />

    <Parameter name='emptyTrackAction'
               enumName='Preset::EmptyLoopAction'
               values='none,record,copy,copyTime'
               valueLabels='None,Record,Copy Sound,Copy Timing' />

    <Parameter name='trackLeaveAction'
               values='none,cancel,wait'
               valueLabels='None,Cancel Current Mode,Cancel and Wait' />

    <Parameter name='loopCount' options='dynamic,noBinding'
               codeName='Loops'
               low='1' high='32'/>
    
    <Parameter name='muteMode' values='continue,start,pause'/>
    
    <Parameter name='muteCancel'
               values='never,edit,trigger,effect,custom,always'
               valueLabels='Never,Edits,Triggers,Effects,Custom,Always' />

    <Parameter name='overdubQuantized' type='bool' />

    <Parameter name='quantize'
               values='off,subCycle,cycle,loop'
               valueLabels='Off,Subcycle,Cycle,Loop'
               <!-- enum doesn't match getter -->
               enumName='Preset::QuantizeMode' />

    <Parameter name='bounceQuantize'
               values='off,subCycle,cycle,loop'
               valueLabels='Off,Subcycle,Cycle,Loop'
               enumName='Preset::QuantizeMode'/>

    <Parameter name='recordResetsFeedback' type='bool' />

    <Parameter name='speedRecord' type='bool' />

    <Parameter name='roundingOverdub' type='bool' />

    <Parameter name='switchLocation'
               values='follow,restore,start,random'/>

    <Parameter name='returnLocation'
               values='follow,restore,start,random'
               enumName='Preset::SwitchLocation'/>

    <Parameter name='switchDuration'
               values='permanent,once,onceReturn,sustain,sustainReturn'
               enumName='Preset::SwitchDuration'/>
    
    <Parameter name='switchQuantize'
               values='off,subCycle,cycle,loop,confirm,confirmSubCycle,confirmCycle,confirmLoop'
               valueLabels='Off,Subcycle,Cycle,Loop,Confirm,Confirm Subcycle,Confirm Cycle,Confirm Loop' />

    <Parameter name='timeCopyMode' values='play,overdub,multiply,insert'
               enumName='Preset::CopyMode'/>

    <Parameter name='soundCopyMode' values='play,overdub,multiply,insert'
               enumName='Preset::CopyMode'/>

    <Parameter name='recordThreshold' high='8' />

    <Parameter name='switchVelocity' type='bool' />

    <Parameter name='maxUndo' options='noBinding'/>
    <Parameter name='maxRedo' options='noBinding'/>
    
    <Parameter name='noFeedbackUndo' type='bool' options='noBinding'/>
    <Parameter name='noLayerFlattening' type='bool' options='noBinding'/>
    
    <!-- StepSequence*
         <Parameter name='speedSequence' type='string' options='noBinding'/>
    -->
    <Parameter name='speedShiftRestart' type='bool' options='noBinding'/>
    <!-- StepSequence*
         <Parameter name='pitchSequence' type='string' options='noBinding'/>
    -->
    <Parameter name='pitchShiftRestart' type='bool' options='noBinding'/>
    
    <Parameter name='speedStepRange' low='1' high='48' options='noBinding'/>
    <Parameter name='speedBendRange' low='1' high='12' options='noBinding'/>
    <Parameter name='pitchStepRange' low='1' high='48' options='noBinding'/>
    <Parameter name='pitchBendRange' low='1' high='12' options='noBinding'/>
    <Parameter name='timeStretchRange' low='1' high='12' options='noBinding'/>
    
    <Parameter name='slipMode'
               values='subCycle,cycle,start,relSubCycle,relCycle,time' />

    <Parameter name='slipTime' high='128' />
    
    <Parameter name='autoRecordTempo' high='500' />

    <Parameter name='autoRecordBars' low='1' high='64' />

    <!-- StringList
         List of functions that are sustainable.  Not configurable any more
         but could make this a FunctionProperties flag like the three former global parameters.
         <Parameter name='sustainFunctions' type='string' multi='true' options='noBinding'/>
    -->

    <Parameter name='recordTransfer' values='off,follow'
               enumName='Preset::TransferMode'/>
    <Parameter name='overdubTransfer' values='off,follow,restore'
               enumName='Preset::TransferMode'/>
    <Parameter name='reverseTransfer' values='off,follow,restore'
               enumName='Preset::TransferMode'/>
    <Parameter name='speedTransfer' values='off,follow,restore'
               enumName='Preset::TransferMode'/>
    <Parameter name='pitchTransfer' values='off,follow,restore'
               enumName='Preset::TransferMode'/>

    <Parameter name='windowSlideUnit' values='loop,cycle,subcycle,msec,frame'
               enumName='Preset::WindowUnit'/>
    <Parameter name='windowEdgeUnit' values='loop,cycle,subcycle,msec,frame'
               enumName='Preset::WindowUnit'/>
    
    <Parameter name='windowSlideAmount' low='1' high='128' />
    <Parameter name='windowEdgeAmount' low='1' high='128' />

    <!-- DEPRECATED: keep these for temporary documentation but once we're sure
         core code no longer needs them they can be deleted
         -->
    
    <!-- replaced by EmptyLoopAction
         <Parameter name='autoRecord' type='bool' options='noBinding'/>
    -->

    <!-- insertMode=Sustain replaced with SustainFunctions
         <Parameter name='insertMode'
         values='rehearse,replace,substitute,halfspeed,reverse,insert,sustain' />
    -->

    <!-- now AltFeedbackEnables
         <Parameter name='interfaceMode'
         values='loop,delay,expert,stutter,in,out,replace,flip' />
    -->

    <!-- now EmptyLoopAction
         <Parameter name='loopCopy' values='off,timing,sound' />
    -->
    
    <!-- replaced with OverdubQuantized and SustainFunctions
         <Parameter name='overdubMode' values='toggle,sustain,quantized' />
    -->

    <!-- replaced by SustainFuntions and RecordResetsFeedback
         <Parameter name='recordMode' values='toggle,sustain,safe' />
    -->

    <!-- replaced with SwitchLocation, SwitchDuration, and ReturnLocationn
         <Parameter name='samplerStyle' values='run,start,once,attack,continuous' />
    -->

    <!-- replaced by EmptyTrackAction
         <Parameter name='trackCopy' values='off,timing,sound' />
    -->

  </ParameterScope>

  <!-- =======================================================================
       SETUP
  ============================================================================ -->

  <ParameterScope name='setup'>

    <Parameter name='defaultPreset'
               type='structure' structureClass='Preset'
               codeName='DefaultPresetName'
               options='noBinding'>
      This is used only in model context to define the default Preset by name.

      This is new and has no correspondence in the old parameter model, but may
      be used at runtime.  
    </Parameter>

    <!-- note that this needs "default" as the first enum value even though that's not
         allowed for this parameter since internally it shares the same SyncSource enumeration
         with the syncSource track scope parameter
    -->
    <Parameter name='defaultSyncSource' values='default,none,track,out,host,midi,transport'
               coreName='syncSource'
               codeName='SyncSource'
               enumName='SyncSource'/>
    <Parameter name='defaultTrackSyncUnit' values='subcycle,cycle,loop'
               codeName='SyncTrackUnit'
               enumName='SyncTrackUnit'/>
    <Parameter name='slaveSyncUnit' values='beat,bar'
               codeName='SyncUnit'
               enumName='SyncUnit'/>
    <Parameter name='manualStart' type='bool' />
    <Parameter name='minTempo' high='500' />
    <Parameter name='maxTempo' high='500' />
    <Parameter name='beatsPerBar' high='64' />
    <Parameter name='muteSyncMode' values='transport,transportClocks,clocks,none' />
    <Parameter name='resizeSyncAdjust' values='none,tempo'
               enumName='SyncAdjust'/>

    <Parameter name='speedSyncAdjust' values='none,tempo'
               enumName='SyncAdjust'/>
    <Parameter name='realignTime' values='start,bar,beat,now' />
    <Parameter name='outRealign' values='midiStart,restart'
               codeName='OutRealignMode'
               enumName='OutRealignMode'/>

    <Parameter name='activeTrack' high='8' options='dynamic,noBinding'
               coreName='selectedTrack'>
      In model context, defines the initial active track, almost always zero.
      Range depends on the global trackCount parameter.
      In runtime context, this changes the active track for focus and display
      WITHOUT incurring Track Copy behavior.
      todo: Compare this with the TrackSelect function which I'd like to
      start calling TrackShift.  

      We also have an ordinal problem.  Internally tracks are numbered from zero but
      externally they are always numbered from 1.  Need to work this out.
    </Parameter>
    
    <!-- StringList
         Renamed this "resetRetains" at some point, still not visible in the UI
         update: now a ParameterProperties flag
    <Parameter name='resetables' type='string' multi='true' options='noBinding,juceValues'>
         This was not defined formally in core, though it is a member of the Setup class.
         The SetupDialog handled it as a special case.  Since it wasn't a parameter
         it could not be used in bindings or scripts.
       </Parameter>
    -->

  </ParameterScope>

  <!-- =======================================================================
       TRACK
  ============================================================================ -->

  <ParameterScope name='track'>
    
    <Parameter name='trackName' codeName='Name' type='string' options='noBinding'/>

    <Parameter name='trackPreset' coreName='preset'
               codeName='TrackPresetName'
               type='structure' structureClass='Preset'
               options='noBinding'>
      In model context defined the starting preset for this track by name.

      In runtime context, this is weird.  It corresponds to the old "preset" parameter
      which changes the active preset in the Track without modifying config, so it
      would be lost on Reset.

      todo: "active preset" is a poorly defined concept that needs thought
    </Parameter>
    
    <!-- !!! this is generating code even though it is marked transient -->
    
    <Parameter name='activePreset' coreName='preset'
               type='structure' structureClass='Preset'
               codeName='StartingPresetName'
               options='transient,resetRetain'>
      In runtime context this changes the Preset a track is using.
    </Parameter>
    
    <Parameter name='focus' codeName='FocusLock' type='bool' options='resetRetain,noBinding'/>

    <!-- this used to be a number
    <Parameter name='group' options='dynamic,resetRetain'/>
    -->
    <!-- ugh, unclear how core is dealing with this -->
    <Parameter name='groupName' options='dynamic,resetRetain'/>
    
    <Parameter name='mono' type='bool' options='noBinding'/>
    <Parameter name='feedback' high='127' options='control,resetRetain,mayFocus'/>
    <Parameter name='altFeedback' high='127' options='control,resetRetain,mayFocus'/>
    <Parameter name='input' codeName='InputLevel' high='127' options='control,resetRetain,mayFocus'/>
    <Parameter name='output' codeName='OutputLevel' high='127' options='control,resetRetain,mayFocus'/>
    <Parameter name='pan' high='127' options='control,resetRetain,mayFocus'/>

    <Parameter name='syncSource' values='default,none,track,out,host,midi,transport' />
    <Parameter name='trackSyncUnit' codeName='SyncTrackUnit' enumName='SyncTrackUnit'
               values='default,subcycle,cycle,loop' />
    <Parameter name='audioInputPort' low='0' high='31' displayBase='1' options='noBinding'/>
    <Parameter name='audioOutputPort' low='0' high='31' displayBase='1' options='noBinding'/>
    <Parameter name='pluginInputPort' low='0' high='31' displayBase='1'options='noBinding'/>
    <Parameter name='pluginOutputPort' low='0' high='31' displayBase='1' options='noBinding'/>

    <!-- special catagory of parameters availalbe for runtime bindings, but
         not in the configuration files, no get/set code will be generated
    -->
    <Parameter name='speedOctave' high='4'
               options='transient,control,zeroCenter,scheduled'/>
    <Parameter name='speedStep' high='48'
               options='transient,control,zeroCenter,scheduled'/>
    <Parameter name='speedBend' high='8191'
               options='transient,control,zeroCenter,scheduled'/>
    <Parameter name='pitchOctave' high='4'
               options='transient,control,zeroCenter,scheduled'/>
    <Parameter name='pitchStep' high='48'
               options='transient,control,zeroCenter,scheduled'/>
    <Parameter name='pitchBend' high='8191'
               options='transient,control,zeroCenter,scheduled'/>
    <Parameter name='timeStretch' high='8191'
               options='transient,control,zeroCenter,scheduled'/>

  </ParameterScope>
  
  <!-- =======================================================================
       Session
       ============================================================================ -->

  <ParameterScope name='global'>

    <Parameter name='eventScript' type='string'/>
    
  </ParameterScope>

  <!-- =======================================================================
       Session Track
  ============================================================================ -->

  <ParameterScope name='track'>
    <Parameter name='leaderType'
               values='none,track,trackSyncMaster, transportMaster,focused,host,midi,transport'
               valueLabels='None,Track Number,Track Sync Master,Transport Master,Focused,Host,MIDI In'/>

    <Parameter name='leaderSwitchLocation'
               values='none,loop,cycle,subcycle'/>
    
    <Parameter name='leaderTrack' type='int'/>
    <Parameter name='followRecord' type='bool'/>
    <Parameter name='followRecordEnd' type='bool'/>
    <Parameter name='followSize' type='bool'/>
    <Parameter name='followLocation' type='bool'/>
    <Parameter name='followMute' type='bool'/>
    <Parameter name='followStartPoint' type='bool'/>
    <Parameter name='followRate' type='bool'/>
    <Parameter name='followDirection' type='bool'/>
    <Parameter name='followSwitch' type='bool'/>
    <Parameter name='followCut' type='bool'/>
    <Parameter name='followQuantizeLocation' type='bool'/>
    <Parameter name='followerMuteStart' type='bool'/>
    <Parameter name='noReset' type='bool'/>
    <Parameter name='noEdit' type='bool'/>
    <Parameter name='midiChannelOverride'
               values='off,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16'/>

  </ParameterScope>
  
  <!-- =======================================================================
       Sync and Transport
  ============================================================================ -->

  <ParameterScope name='sync'>
    
    <Parameter name='transportTempo' type='int' level='kernel'/>
    <Parameter name='transportBeatsPerBar' type='int' level='kernel'/>
    
  </ParameterScope>
    
</Symbols>
